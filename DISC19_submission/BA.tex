%%&pdflatex
%\def\IsDraft{} % set for draft version
%\def\IsLLNCS{} % set for LNCS version
\def\IsAnon{} % set for anonymous version
%\def\IsFullVersion{} % set for full version

\ifdefined\IsLLNCS
\documentclass{llncs}
\usepackage{amsfonts,amsmath,amssymb,boxedminipage,color,url,nccmath}
\pagestyle{plain}
\else
\documentclass[11pt]{article}
\usepackage{amsfonts,amsmath,amssymb,boxedminipage,color,url,fullpage,nccmath}
\fi

\usepackage{enumerate,paralist,comment}
\usepackage{enumitem}
\usepackage[super]{nth}
%\usepackage{enumitem}
\usepackage[hypcap=false]{caption}
%\usepackage[labelfont=bf]{caption}
\usepackage{nameref}

%\usepackage{lmodern}% to remove LaTeX font warnings (Using lmodern removes this restriction by allowing font sizes at arbitrary sizes)
\usepackage[T1]{fontenc}
\usepackage{lmodern} \normalfont %to load T1lmr.fd
\DeclareFontShape{T1}{lmr}{bx}{sc} { <-> ssub * cmr/bx/sc }{}

\usepackage[bottom]{footmisc} % to make the footnote stay at the bottom of the page... (load before hyperref)

% pageanchor=false solves the warning "pdfTeX warning (ext4): destination with the same identifier (name{page.}) has been already used, duplicate ignored"
\usepackage[pageanchor=false,pdfstartview=FitH,colorlinks,linkcolor=blue,filecolor=blue,citecolor=blue,urlcolor=blue]{hyperref} % blue links

\ifdefined\IsLLNCS\else
\usepackage{amsthm} % in order to remove warnings such as "destination with the same identifier (name{corollary.1.3}) has been already used, duplicate ignored" the order of packages should be hyperref, amsthm, cleveref
\fi

\usepackage{aliascnt}
\usepackage[numbers]{natbib} % \citet{foo} -> Foo et al. [5]
\usepackage{cleveref}
\usepackage{xspace}
\usepackage{xstring}
\usepackage{float}
\usepackage{graphicx}
\graphicspath{ {images/} }


\usepackage{tikz}\usetikzlibrary{arrows}
\usetikzlibrary{decorations.markings}
\usepackage{subcaption}
\usepackage{footmisc}

\usepackage[nottoc]{tocbibind} % add Bibliography to toc

\ifdefined\IsLLNCS
\setcounter{secnumdepth}{3} % needed in order to number subsubsection in SYNCS format
\fi

\input{macros}

%%%%%%%


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\def\inote{\Inote}
\def\rnote{\Rnote}
\def\mnote{\Mnote}
\def\nnote{\Nnote}
\newcommand{\Inote}[1]{\authnote{Iftach}{#1}}
\newcommand{\Mnote}[1]{\authnote{Matan}{#1}}
\newcommand{\Rnote}[1]{\authnote{Ran}{#1}}
\newcommand{\Nnote}[1]{\authnote{Nikos}{#1}}

\newcommand{\iadded}[1]{\added{Iftach}{#1}}
\newcommand{\radded}[1]{\added{Ran}{#1}}
\newcommand{\madded}[1]{\added{Matan}{#1}}
\newcommand{\nadded}[1]{\added{Nikos}{#1}}

\newcommand{\ichanged}[2]{\changed{Iftach}{#1}{#2}}
\newcommand{\rchanged}[2]{\changed{Ran}{#1}{#2}}
\newcommand{\mchanged}[2]{\changed{Matan}{#1}{#2}}
\newcommand{\nchanged}[2]{\changed{Nikos}{#1}{#2}}

\newcommand{\ideleted}[1]{\deleted{Iftach}{#1}}
\newcommand{\rdeleted}[1]{\deleted{Ran}{#1}}
\newcommand{\mdeleted}[1]{\deleted{Matan}{#1}}
\newcommand{\ndeleted}[1]{\deleted{Nikos}{#1}}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%



\newcounter{fnnumber}

\newcommand{\adaptive}{{\MathAlgX{adaptive}\xspace}}
\newcommand{\nonadaptive}{{\MathAlgX{non\mhyphen adaptive}\xspace}}

\newcommand{\BA}{\MathAlgX{BA}}
\newcommand{\Agr}{\MathAlgX{agreement}}
\newcommand{\Vld}{\MathAlgX{validity}}
\renewcommand{\Halt}{\MathAlgX{halting}}


\newcommand{\bls}{\cB_{\ell,\sigma}}

\renewcommand{\o}{b}
\newcommand{\oo}{\overline{\o}}

\newcommand{\omin}{\set{\o,\bot}}
\newcommand{\oomin}{\set{\oo,\bot}}
\newcommand{\vz}{\vv_0}
\newcommand{\vo}{\vv_1}
\newcommand{\oP}{{\overline{\cP}}}
\newcommand{\bns}{\mathbf{D}_{n,\sigma}}
\newcommand{\bne}{\cB_{n,\eps}}
\newcommand{\err}{\mathsf{err}}
\newcommand{\fnk}{\floor{(n-k)/2}}
\newcommand{\cnk}{\ceil{(n-k)/2}}
\newcommand{\fnt}{\floor{(n-t)/2}}
\newcommand{\cnt}{\ceil{(n-t)/2}}

\newcommand{\mon}{\set{\bot^n}}

\newcommand{\FirstErr}{2^{t-n}}
%\newcommand{\FirstErr}{2^{n-t}}

%\title{Lower Bounds on Expected Round Complexity\\ of Byzantine Agreement Protocols
\title{Lower Bounds on Round Complexity\\ of Randomized Byzantine Agreement Protocols
\Draft{\\{\small \sc Working Draft: Please Do Not Distribute}}
}

\ifdefined\IsAnon
    \author{}
    \date{}
    \LLNCS{ \institute{}}
\else
    \ifdefined\IsLLNCS
        \author{Ran Cohen\inst{1}
        \and Iftach Haitner\inst{2}
        \and Nikolaos Makriyannis\inst{3}
        \and Matan Orland\inst{4}
        \and Alex Samorodnitsky\inst{5}
        }
        \institute{Boston University and Northeastern University\\ \email{rancohen@ccs.neu.edu}
        \and School of Computer Science, Tel Aviv University\\ \email{iftachh@cs.tau.ac.il}
        \and Department of Computer Science, Technion\\ \email{n.makriyannis@gmail.com}
        \and School of Computer Science, Tel Aviv University\\ \email{matanorland@mail.tau.ac.il}
        \and School of Engineering and Computer Science, The Hebrew University of Jerusalem\\ \email{salex@cs.huji.ac.il}
        }
    \else
        \author{Ran Cohen\thanks{Boston University and Northeastern University. E-mail: \texttt{rancohen@ccs.neu.edu}.}
        \and Iftach Haitner\thanks{School of Computer Science, Tel Aviv University. E-mail: \texttt{iftachh@cs.tau.ac.il}. Member of the  Israeli Center of Research Excellence in Algorithms (ICORE) and the Check Point Institute for Information Security.}~\footnotemark[5] %
        \and Nikolaos Makriyannis\thanks{Department of Computer Science, Technion. E-mail: \texttt{n.makriyannis@gmail.com}.}~\footnotemark[5]
        \and Matan Orland\thanks{School of Computer Science, Tel Aviv University. E-mail: \texttt{matanorland@mail.tau.ac.il}.}
        \footnote{Research supported by ERC starting grant 638121.}
        \and Alex Samorodnitsky\thanks{School of Engineering and Computer Science, The Hebrew University of Jerusalem. E-mail: \texttt{salex@cs.huji.ac.il}.}
        }
    \fi
\fi

\begin{document}

\sloppy
\maketitle
\begin{abstract}
We initiate the study of lowerbounding the round complexity of \emph{randomized} Byzantine agreement (BA) protocols, bounding the halting probability of such protocols after one and two rounds. In particular, we show that:

\begin{enumerate}
\item BA protocols resilient against $n/3$ [\resp $n/4$] corruptions terminate (under attack) at the end of the first round with probability at most $o(1)$ [\resp $1/2+ o(1)$].

\item BA protocols resilient against $n/4$ corruptions terminate at the end of the second round with probability at most $1-\Theta(1)$.

\item For a large class of protocols (including all BA protocols used in practice) and under a plausible combinatorial conjecture, BA protocols resilient against $n/3$ [\resp $n/4$] corruptions terminate at the end of the second round with probability at most $o(1)$ [\resp $1/2 + o(1)$].
\end{enumerate}
The above bounds hold even when the parties use a trusted setup phase, \eg a public-key infrastructure (PKI).

The third bound essentially matches the recent protocol of Micali (ITCS'17) that tolerates up to $n/3$ corruptions and terminates at the end of the third round with constant probability.
\end{abstract}

\ifdefined\IsLLNCS\else
\vfill
\fi
\noindent\textbf{Keywords: Byzantine agreement; lower bound; round complexity.}

\Tableofcontents

\input{Introduction}
\input{Technique}

%\input{Preliminaries}
\ifdefined\IsFullVersion
\input{OurResults}
\input{Isoperimetric}
\input{FirstRound}
\input{SecondRound}
\fi

\bibliographystyle{abbrvnat}
\bibliography{crypto}

\ifdefined\IsFullVersion\else
\appendix
\section{Introduction (Cont'd)}\label{sec:intro_cont}
\input{Intro_cont}

\input{OurResults}
\input{Isoperimetric}
\input{FirstRound}
\input{SecondRound}
\fi

\end{document}

